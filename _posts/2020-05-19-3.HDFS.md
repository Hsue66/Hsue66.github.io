# HDFS
### 목차  
[ 1. What is HDFS? ](##1.-what-is-hdfs?)  
[ 2. Architecture of HDFS ](##2.-architecture-of-hdfs)  
[ 3. Read & Write ](##3.-read-&-write)  
[ 4. HDFS Federation ](##4.-hdfs-federation)  
[ 5. HDFS High Availability ](##5.-hdfs-high-availability)

## 1. What is HDFS ?
HDFS (Hadoop Distributed File System)
--------
> 가장 효율적인 데이터처리 패턴은 한번쓰고 여러번 읽는 것  

하둡이 제공하는 분산 File System  
#### 특징
* 매우 큰 File : MB, GB, TB ... even PB
* 데이터 접근 by Streaming : dataset생성 or 복사 후 분석 수행
* 범용HW : 고가,신뢰도 높은 HW X &rarr; 장애대응 중요

#### HDFS 비적합분야
* 빠른 응답시간 : HDFS는 높은 처리량을 위해 응답시간 희생
* 많은양의 작은 파일 : File수 &propto; Namenode의 메모리 용량
* 다중 Writer, File임의 수정 : HDFS는 단일 Writer (3.0이전까지) / 임의 위치 수정불가

## 2. Architecture

### * What is Block in HDFS ?
한번에 읽고 쓸수 있는 데이터의 최대량. **128MB**  
HDFS File을 특정블록크기의 chunk로 분할 후 각 chunk를 독립적으로 저장.
![Alt text](./f2c.png)

cf. Disk Block size : 516B
#### Block size 큰 이유 : 탐색 비용 최소화
block 크기 &uarr;  &rarr;  시작점 탐색시간 &darr; == data 전송시간 확보 가능  
+&alpha; ) 전송시간 향상 &rarr; block 크기 증가

#### Block추상화 장점
* 단일 File크기 &gt; 단일 디스크용량 가능  
  &because; 한 File 구성하는 block이 한 Disk에 저장될 필요 X
* Storage Sub System 단순화  
  &because; Distribute System 장애유형 다양 &Rightarrow; 단순화 중요  
  & Block은 단지 data chunk라서 metadata와 분리 가능  
* 복제구현에 적합 (fault tolerance와 availability를 위해 중요)  
  Block을 다수의 머신에 복제  
  장애발생 시 ) 다른 block이용 & 다른복사본으로 복사 (복제계수 정상유지)


## 3. Read & Write
## 4. HDFS Federation
## 5. HDFS High Availability
